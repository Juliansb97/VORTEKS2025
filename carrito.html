<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Suplementos VORTEꓘS</title>
  <link rel="icon" type="image/png" href="LOGO.png" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>
<body class="bg-black text-gray-100" x-data="cartApp">

  <!-- Encabezado -->
  <div class="flex flex-col lg:flex-row justify-between items-center p-6 border-b border-gray-800 relative">
    <div class="flex flex-col items-center">
      <img src="LOGO.png" alt="Logo VORTEKS" class="w-56 h-56 mb-2">
      <h1 class="text-3xl font-bold text-yellow-400 text-center">VORTEꓘS Suplementos</h1>
    </div>
    <div class="mt-4 lg:mt-0">
      <div class="text-center bg-white text-black rounded-xl shadow-lg p-3 w-52">
        <h3 class="font-bold text-sm mb-2 text-yellow-500 uppercase">Empleado del Mes</h3>
        <img src="empleado.jpg" alt="Empleado del Mes" class="rounded-lg w-full h-auto object-cover">
        <p class="mt-2 text-xs font-semibold">Juan Pérez</p>
      </div>
    </div>
  </div>

  <!-- Navegación -->
  <nav class="bg-gray-900 text-white p-4 flex justify-center space-x-4 border-b border-gray-800">
    <a href="index.html" class="hover:text-yellow-400">Inicio</a>
    <a href="productos.html" class="hover:text-yellow-400">Productos</a>
    <a href="videos.html" class="hover:text-yellow-400">Videos</a>
    <a href="asesorias.html" class="hover:text-yellow-400">Asesorías</a>
    <a href="carrito.html" class="hover:text-yellow-400">Carrito</a>
    <a href="contacto.html" class="hover:text-yellow-400">Contacto</a>
  </nav>

  <!-- Carrito -->
  <section class="py-10 px-4 max-w-4xl mx-auto">
    <h2 class="text-3xl font-bold text-yellow-400 mb-6 text-center">Carrito de Compras</h2>

    <!-- Mensaje -->
    <div x-show="showMessage" x-text="message" class="text-green-400 text-center mb-4" x-transition></div>

    <template x-if="cart.length === 0">
      <p class="text-center text-gray-400">Tu carrito está vacío.</p>
    </template>

    <template x-if="cart.length > 0">
      <div class="space-y-6">
        <template x-for="(item, index) in cart" :key="index">
          <div class="flex items-center justify-between bg-gray-800 rounded-lg p-4" x-transition.opacity.duration.300ms>
            <div class="flex items-center gap-4">
              <img :src="item.imagen" alt="" class="w-16 h-16 rounded shadow-md object-cover">
              <div>
                <h3 class="font-bold text-lg" x-text="item.nombre"></h3>
                <p class="text-sm text-gray-400">Precio: $<span x-text="item.precio"></span></p>
                <p class="text-sm text-gray-400">Total: $<span x-text="(item.precio * item.cantidad).toFixed(2)"></span></p>
              </div>
            </div>
            <div class="flex items-center space-x-3">
              <button @click="decreaseQuantity(index)" class="bg-yellow-500 hover:bg-yellow-400 text-black px-3 py-1 rounded-full shadow">-</button>
              <span x-text="item.cantidad"></span>
              <button @click="increaseQuantity(index)" class="bg-yellow-500 hover:bg-yellow-400 text-black px-3 py-1 rounded-full shadow">+</button>
              <button @click="removeItem(index)" class="text-red-400 hover:text-red-300 text-sm underline">Eliminar</button>
            </div>
          </div>
        </template>

        <!-- Total y opciones -->
        <div class="text-right mt-6 space-y-2">
          <p class="text-xl font-semibold">Total: $<span x-text="total"></span></p>
          <div class="flex justify-end items-center gap-4">
            <button @click="clearCart" class="text-sm text-red-400 hover:text-red-300 underline">Vaciar carrito</button>
            <button class="bg-green-500 hover:bg-green-400 text-black px-4 py-2 rounded shadow">Finalizar compra</button>
          </div>
        </div>
      </div>
    </template>
  </section>

  <!-- Footer -->
  <footer class="bg-gray-800 text-white text-center py-4 mt-10">
    <p>&copy; 2025 VORTEꓘS Suplementos. Todos los derechos reservados.</p>
  </footer>

  <script>
    document.addEventListener('alpine:init', () => {
      Alpine.data('cartApp', () => ({
        cart: JSON.parse(localStorage.getItem('cart') || '[]'),
        showMessage: false,
        message: '',

        get total() {
          return this.cart.reduce((sum, item) => sum + item.precio * item.cantidad, 0).toFixed(2);
        },

        increaseQuantity(index) {
          this.cart[index].cantidad++;
          this.saveCart('Cantidad aumentada');
        },

        decreaseQuantity(index) {
          if (this.cart[index].cantidad > 1) {
            this.cart[index].cantidad--;
            this.saveCart('Cantidad disminuida');
          }
        },

        removeItem(index) {
          if (confirm('¿Eliminar este producto del carrito?')) {
            this.cart.splice(index, 1);
            this.saveCart('Producto eliminado');
          }
        },

        clearCart() {
          if (confirm('¿Vaciar todo el carrito?')) {
            this.cart = [];
            this.saveCart('Carrito vacío');
          }
        },

        saveCart(message = 'Carrito actualizado ✔') {
          localStorage.setItem('cart', JSON.stringify(this.cart));
          this.message = message;
          this.showMessage = true;
          setTimeout(() => this.showMessage = false, 2000);
        },

        addToCart(product) {
          const found = this.cart.find(p => p.nombre === product.nombre);
          if (found) {
            found.cantidad++;
          } else {
            this.cart.push({ ...product, cantidad: 1 });
          }
          this.saveCart('Producto agregado');
        }
      }));
    });
  </script>

</body>
</html>
